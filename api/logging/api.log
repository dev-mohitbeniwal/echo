{"level":"error","timestamp":"2024-07-14T15:35:25.738+0530","caller":"util/http_util.go:11","msg":"Policy not found","error":"policy not found","path":"/policies/1","method":"PUT","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).UpdatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:90\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\ngithub.com/dev-mohitbeniwal/echo/api/controller_test.TestPolicyController.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller_test.go:74\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/testing/testing.go:1689"}
{"level":"error","timestamp":"2024-07-14T15:35:25.738+0530","caller":"util/http_util.go:11","msg":"Policy not found","error":"policy not found","path":"/policies/1","method":"DELETE","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).DeletePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:111\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\ngithub.com/dev-mohitbeniwal/echo/api/controller_test.TestPolicyController.func5\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller_test.go:98\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/testing/testing.go:1689"}
{"level":"error","timestamp":"2024-07-14T15:35:25.739+0530","caller":"util/http_util.go:11","msg":"Policy not found","error":"policy not found","path":"/policies/1","method":"GET","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).GetPolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:128\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\ngithub.com/dev-mohitbeniwal/echo/api/controller_test.TestPolicyController.func7\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller_test.go:122\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/testing/testing.go:1689"}
{"level":"error","timestamp":"2024-07-14T15:53:34.788+0530","caller":"util/http_util.go:11","msg":"Policy not found","error":"policy not found","path":"/policies/1","method":"PUT","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).UpdatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:90\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\ngithub.com/dev-mohitbeniwal/echo/api/controller_test.TestPolicyController.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller_test.go:74\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/testing/testing.go:1689"}
{"level":"error","timestamp":"2024-07-14T15:53:34.789+0530","caller":"util/http_util.go:11","msg":"Policy not found","error":"policy not found","path":"/policies/1","method":"DELETE","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).DeletePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:111\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\ngithub.com/dev-mohitbeniwal/echo/api/controller_test.TestPolicyController.func5\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller_test.go:98\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/testing/testing.go:1689"}
{"level":"error","timestamp":"2024-07-14T15:53:34.789+0530","caller":"util/http_util.go:11","msg":"Policy not found","error":"policy not found","path":"/policies/1","method":"GET","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).GetPolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:128\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\ngithub.com/dev-mohitbeniwal/echo/api/controller_test.TestPolicyController.func7\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller_test.go:122\ntesting.tRunner\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/testing/testing.go:1689"}
{"level":"info","timestamp":"2024-07-14T17:36:36.851+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-14T17:36:36.971+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-14T17:36:36.972+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-14T17:36:36.972+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.526+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.527+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.685+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.685+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.728+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.728+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.755+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-14T17:36:37.756+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-14T17:38:10.803+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-14T17:38:10.805+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-14T17:38:10.805+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T12:53:05.030+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T12:53:05.112+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T12:53:05.115+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T12:53:05.116+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.184+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.184+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.188+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.188+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.191+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.192+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.195+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T12:53:05.195+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"warn","timestamp":"2024-07-21T12:54:22.566+0530","caller":"middleware/rate_limiter.go:33","msg":"Rate limit exceeded","ip":"::1"}
{"level":"info","timestamp":"2024-07-21T12:54:22.567+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/organization","query":"","status":429,"latency":0.004239167,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"warn","timestamp":"2024-07-21T12:54:54.721+0530","caller":"middleware/rate_limiter.go:33","msg":"Rate limit exceeded","ip":"::1"}
{"level":"info","timestamp":"2024-07-21T12:54:54.721+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/policies","query":"","status":429,"latency":0.0008855,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"warn","timestamp":"2024-07-21T12:56:00.553+0530","caller":"middleware/rate_limiter.go:33","msg":"Rate limit exceeded","ip":"::1"}
{"level":"info","timestamp":"2024-07-21T12:56:00.553+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/policies","query":"","status":429,"latency":0.001207583,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T12:58:15.369+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T12:58:15.369+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T12:58:15.370+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T12:58:19.357+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T12:58:19.388+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T12:58:19.390+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T12:58:19.391+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.401+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.401+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.406+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.406+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.410+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.410+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.415+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T12:58:19.415+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"warn","timestamp":"2024-07-21T12:58:22.326+0530","caller":"middleware/rate_limiter.go:33","msg":"Rate limit exceeded","ip":"::1","limit":0,"per":0}
{"level":"info","timestamp":"2024-07-21T12:58:22.327+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/policies","query":"","status":429,"latency":0.001605875,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T12:59:31.561+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T12:59:31.562+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T12:59:31.562+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T12:59:33.732+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T12:59:33.749+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T12:59:33.752+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T12:59:33.752+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.759+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.759+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.767+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.767+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.775+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.775+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.781+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T12:59:33.782+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T12:59:36.781+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T12:59:36.783+0530","caller":"dao/policy_dao.go:70","msg":"Creating new policy","policyName":"Example Policy 11"}
{"level":"error","timestamp":"2024-07-21T12:59:37.284+0530","caller":"dao/policy_dao.go:142","msg":"Failed to create policy","error":"policy conflict","policyName":"Example Policy 11","duration":0.501412042,"stacktrace":"github.com/dev-mohitbeniwal/echo/api/dao.(*PolicyDAO).CreatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/dao/policy_dao.go:142\ngithub.com/dev-mohitbeniwal/echo/api/service.(*PolicyService).CreatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/policy_service.go:196\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).CreatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T12:59:37.284+0530","caller":"service/policy_service.go:198","msg":"Error creating policy","error":"policy conflict","userID":"","stacktrace":"github.com/dev-mohitbeniwal/echo/api/service.(*PolicyService).CreatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/policy_service.go:198\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).CreatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:54\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T12:59:37.284+0530","caller":"util/http_util.go:11","msg":"Policy already exists","error":"policy conflict","path":"/api/v1/policies","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*PolicyController).CreatePolicy\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/policy_controller.go:58\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T12:59:37.285+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/policies","query":"","status":409,"latency":0.504292375,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:00:06.638+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:00:06.638+0530","caller":"dao/policy_dao.go:70","msg":"Creating new policy","policyName":"Example Policy 11"}
{"level":"info","timestamp":"2024-07-21T13:00:06.794+0530","caller":"dao/policy_dao.go:150","msg":"Policy created successfully","policyID":"3","duration":0.156328125}
{"level":"info","timestamp":"2024-07-21T13:00:06.830+0530","caller":"service/policy_service.go:212","msg":"Policy created successfully","policyID":"3","userID":""}
{"level":"info","timestamp":"2024-07-21T13:00:06.830+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/policies","query":"","status":201,"latency":0.193240042,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:00:06.830+0530","caller":"service/policy_service.go:62","msg":"Policy created event received","policyID":"3"}
{"level":"info","timestamp":"2024-07-21T13:00:06.830+0530","caller":"service/policy_service.go:398","msg":"Updating policy indexes","policyID":"3"}
{"level":"info","timestamp":"2024-07-21T13:00:06.830+0530","caller":"util/notification_service.go:27","msg":"NOTIFICATION: New policy created","policyID":"3","policyName":"Example Policy 11"}
{"level":"info","timestamp":"2024-07-21T13:00:06.830+0530","caller":"service/policy_service.go:434","msg":"Triggering policy-dependent updates","policyID":"3"}
{"level":"info","timestamp":"2024-07-21T13:01:54.064+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:01:54.065+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organization","query":"","status":404,"latency":0.000770375,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:02:25.173+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:02:25.173+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organization","query":"","status":404,"latency":0.000688084,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:02:45.289+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:02:45.289+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org One"}
{"level":"info","timestamp":"2024-07-21T13:02:45.351+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-1","duration":0.062171958}
{"level":"info","timestamp":"2024-07-21T13:25:13.989+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:25:13.990+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:25:13.991+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:25:17.468+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:25:17.479+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:25:17.481+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:25:17.482+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.489+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.489+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.493+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.493+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.496+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.496+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.499+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:25:17.499+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:25:21.335+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:25:21.335+0530","caller":"middleware/group_auth.go:101","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:25:21.336+0530","caller":"middleware/group_auth.go:43","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_sCtzYSNdS/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:25:21.514+0530","caller":"middleware/group_auth.go:94","msg":"Successfully parsed public key: %+v","publicKey":{"N":22384539212109164069064863340822107095783615222601949956558529265296981733129830765495807547229281517576509415012591708537314459642588807311942978489292310170517524843772736802787251096263294941679443481018838121015699233204987645254608031448229655980505872854836440243784348517128402489384481897102620716177842623855183370810538763630087553004866661610724429555350191330382283567276073270305960121640587399359893999765958510025739041093764189969988588672203700302563373596020118469316217419642208322764726765307234073709386339254568876379023591821119736027528797272622013183293839842719767268847560631432530787889659,"E":65537}}
{"level":"error","timestamp":"2024-07-21T13:25:21.515+0530","caller":"middleware/group_auth.go:152","msg":"Error parsing token: %v","error":"crypto/rsa: verification error","stacktrace":"github.com/dev-mohitbeniwal/echo/api/middleware.parseTokenUnverified\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:152\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:109\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T13:25:21.516+0530","caller":"middleware/group_auth.go:111","msg":"Error parsing token: %v","error":"crypto/rsa: verification error","stacktrace":"github.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:111\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T13:25:21.516+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":401,"latency":0.181442334,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:29:06.756+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:29:06.757+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:29:06.758+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:29:10.344+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:29:10.374+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:29:10.381+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:29:10.381+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.386+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.386+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.391+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.391+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.394+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.394+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.396+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:29:10.397+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:29:14.134+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:29:14.134+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:29:14.134+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:29:14.263+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:29:14.264+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:29:14.264+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:29:14.264+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:29:14.264+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"warn","timestamp":"2024-07-21T13:29:14.264+0530","caller":"middleware/group_auth.go:120","msg":"User does not have the required groups"}
{"level":"info","timestamp":"2024-07-21T13:29:14.264+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":403,"latency":0.13094425,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:29:37.224+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:29:37.225+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:29:37.225+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:29:47.102+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:29:47.112+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:29:47.115+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:29:47.115+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.120+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.120+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.123+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.123+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.126+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.126+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.128+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:29:47.129+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:29:50.911+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:29:50.912+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:29:50.912+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:29:51.023+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:29:51.024+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:29:51.024+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:29:51.024+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:29:51.024+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:29:51.024+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:29:51.025+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org One"}
{"level":"info","timestamp":"2024-07-21T13:29:51.107+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-1","duration":0.082418125}
{"level":"info","timestamp":"2024-07-21T13:30:25.713+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:30:25.714+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:30:25.714+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:30:28.667+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:30:28.674+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:30:28.677+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:30:28.677+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.681+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.681+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.683+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.683+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.685+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.685+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.688+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:30:28.688+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:30:31.768+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:30:31.769+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:30:31.769+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:30:31.867+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org One"}
{"level":"info","timestamp":"2024-07-21T13:30:31.882+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-1","duration":0.014442125}
{"level":"info","timestamp":"2024-07-21T13:30:31.910+0530","caller":"service/organization_service.go:156","msg":"Organization created successfully","orgID":"new-org-1","userID":""}
{"level":"info","timestamp":"2024-07-21T13:30:31.910+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"new-org-1"}
{"level":"info","timestamp":"2024-07-21T13:30:31.910+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"new-org-1","orgName":"Org One"}
{"level":"info","timestamp":"2024-07-21T13:30:31.910+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.142814708,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:39:08.136+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:39:08.137+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:39:08.138+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:39:08.309+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:39:08.310+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:39:08.310+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:08.310+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:08.310+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:08.310+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:39:08.311+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org One"}
{"level":"info","timestamp":"2024-07-21T13:39:08.349+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-1","duration":0.038474083}
{"level":"info","timestamp":"2024-07-21T13:39:08.375+0530","caller":"service/organization_service.go:156","msg":"Organization created successfully","orgID":"new-org-1","userID":""}
{"level":"info","timestamp":"2024-07-21T13:39:08.375+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"new-org-1"}
{"level":"info","timestamp":"2024-07-21T13:39:08.375+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"new-org-1","orgName":"Org One"}
{"level":"info","timestamp":"2024-07-21T13:39:08.375+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.239550708,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:39:32.473+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:39:32.474+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:39:32.474+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:39:32.525+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:39:32.525+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:39:32.525+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:32.525+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:32.525+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:32.526+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:39:32.526+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org Two"}
{"level":"info","timestamp":"2024-07-21T13:39:32.540+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-1","duration":0.014713959}
{"level":"info","timestamp":"2024-07-21T13:39:32.557+0530","caller":"service/organization_service.go:156","msg":"Organization created successfully","orgID":"new-org-1","userID":""}
{"level":"info","timestamp":"2024-07-21T13:39:32.557+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"new-org-1"}
{"level":"info","timestamp":"2024-07-21T13:39:32.557+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"new-org-1","orgName":"Org Two"}
{"level":"info","timestamp":"2024-07-21T13:39:32.557+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.085521125,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:39:48.221+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:39:48.221+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:39:48.221+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:39:48.251+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org Two"}
{"level":"info","timestamp":"2024-07-21T13:39:48.266+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-2","duration":0.015121875}
{"level":"info","timestamp":"2024-07-21T13:39:48.285+0530","caller":"service/organization_service.go:156","msg":"Organization created successfully","orgID":"new-org-2","userID":""}
{"level":"info","timestamp":"2024-07-21T13:39:48.285+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"new-org-2"}
{"level":"info","timestamp":"2024-07-21T13:39:48.285+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"new-org-2","orgName":"Org Two"}
{"level":"info","timestamp":"2024-07-21T13:39:48.285+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.065577375,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:43:22.191+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:43:22.193+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:43:22.193+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:43:25.591+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:43:25.605+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:43:25.608+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:43:25.608+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.613+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.613+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.616+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.616+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.619+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.619+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.623+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:43:25.623+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:43:29.305+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:43:29.305+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:43:29.305+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:43:29.411+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:43:29.411+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:43:29.412+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:43:29.412+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:43:29.412+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:43:29.412+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:43:29.412+0530","caller":"dao/organization_dao.go:259","msg":"Retrieving organization","orgID":"new-org-2"}
{"level":"info","timestamp":"2024-07-21T13:43:29.475+0530","caller":"dao/organization_dao.go:287","msg":"Organization retrieved successfully","orgID":"new-org-2","duration":0.06287075}
{"level":"error","timestamp":"2024-07-21T13:43:29.475+0530","caller":"util/http_util.go:11","msg":"Failed to create organization","error":"internal server error","path":"/api/v1/organizations","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*OrganizationController).CreateOrganization\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/organization_controller.go:63\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T13:43:29.476+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":500,"latency":0.171473875,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:43:43.109+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:43:43.110+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:43:43.110+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:43:43.149+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:43:43.149+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:43:43.149+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:43:43.149+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:43:43.149+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:43:43.149+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:43:43.150+0530","caller":"dao/organization_dao.go:259","msg":"Retrieving organization","orgID":"new-org-3"}
{"level":"warn","timestamp":"2024-07-21T13:43:43.155+0530","caller":"dao/organization_dao.go:293","msg":"Organization not found","orgID":"new-org-3","duration":0.005837708}
{"level":"info","timestamp":"2024-07-21T13:43:43.156+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org Three"}
{"level":"info","timestamp":"2024-07-21T13:43:43.172+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-3","duration":0.016696208}
{"level":"info","timestamp":"2024-07-21T13:43:43.204+0530","caller":"service/organization_service.go:169","msg":"Organization created successfully","orgID":"new-org-3","userID":""}
{"level":"info","timestamp":"2024-07-21T13:43:43.204+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"new-org-3"}
{"level":"info","timestamp":"2024-07-21T13:43:43.204+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.095603875,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:43:43.204+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"new-org-3","orgName":"Org Three"}
{"level":"info","timestamp":"2024-07-21T13:44:56.771+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:44:56.772+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:44:56.772+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:45:00.106+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:45:00.116+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:45:00.118+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:45:00.118+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.123+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.123+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.127+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.127+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.129+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.129+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.130+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:45:00.131+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:45:03.391+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:45:03.391+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:45:03.392+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:45:03.495+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:45:03.496+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:45:03.496+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:45:03.496+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:45:03.496+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:45:03.496+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:45:03.496+0530","caller":"dao/organization_dao.go:259","msg":"Retrieving organization","orgID":"new-org-3"}
{"level":"info","timestamp":"2024-07-21T13:45:03.511+0530","caller":"dao/organization_dao.go:287","msg":"Organization retrieved successfully","orgID":"new-org-3","duration":0.014735417}
{"level":"error","timestamp":"2024-07-21T13:45:03.511+0530","caller":"util/http_util.go:11","msg":"Organization already exists","error":"organization conflict already exists","path":"/api/v1/organizations","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*OrganizationController).CreateOrganization\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/organization_controller.go:57\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T13:45:03.512+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":409,"latency":0.122075667,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:52:24.066+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T13:52:24.067+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T13:52:24.067+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T13:52:27.902+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T13:52:27.914+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T13:52:27.918+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T13:52:27.918+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.924+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.924+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.926+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.926+0530","caller":"dao/organization_dao.go:35","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.929+0530","caller":"dao/organization_dao.go:53","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.929+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.932+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T13:52:27.932+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T13:52:48.670+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:52:48.671+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":""}
{"level":"warn","timestamp":"2024-07-21T13:52:48.671+0530","caller":"middleware/group_auth.go:104","msg":"No Authorization token provided"}
{"level":"info","timestamp":"2024-07-21T13:52:48.671+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations","query":"","status":401,"latency":0.001764375,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:52:54.691+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:52:54.691+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:52:54.691+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:52:54.808+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:52:54.808+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:52:54.809+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:52:54.809+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:52:54.809+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:52:54.809+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:52:54.809+0530","caller":"dao/organization_dao.go:301","msg":"Listing organizations","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T13:52:54.895+0530","caller":"dao/organization_dao.go:337","msg":"Organizations listed successfully","count":3,"duration":0.086828375}
{"level":"info","timestamp":"2024-07-21T13:52:54.896+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations","query":"","status":200,"latency":0.205657083,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:53:13.891+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:53:13.892+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":""}
{"level":"warn","timestamp":"2024-07-21T13:53:13.892+0530","caller":"middleware/group_auth.go:104","msg":"No Authorization token provided"}
{"level":"info","timestamp":"2024-07-21T13:53:13.892+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations/search","query":"","status":401,"latency":0.0015755,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:53:20.646+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:53:20.646+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:53:20.646+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:53:20.677+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:53:20.678+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:53:20.678+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:53:20.678+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:53:20.678+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:53:20.678+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:53:20.678+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations/search","query":"","status":404,"latency":0.033141625,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:54:31.897+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:54:31.898+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:54:31.898+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:54:32.063+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","query":"Org","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T13:54:32.119+0530","caller":"dao/organization_dao.go:384","msg":"Organizations searched successfully","count":0,"duration":0.056206667}
{"level":"info","timestamp":"2024-07-21T13:54:32.119+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"name=Org","status":200,"latency":0.222950667,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:54:59.853+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:54:59.854+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:54:59.854+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:54:59.884+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:54:59.885+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:54:59.885+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:54:59.885+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:54:59.885+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:54:59.885+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:54:59.885+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","query":"Org Two","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T13:54:59.890+0530","caller":"dao/organization_dao.go:384","msg":"Organizations searched successfully","count":0,"duration":0.005146792}
{"level":"info","timestamp":"2024-07-21T13:54:59.891+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"name=Org%20Two","status":200,"latency":0.038799583,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:55:08.293+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:55:08.293+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:55:08.293+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:55:08.325+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","query":"\"Org Two\"","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T13:55:08.328+0530","caller":"dao/organization_dao.go:384","msg":"Organizations searched successfully","count":0,"duration":0.002978917}
{"level":"info","timestamp":"2024-07-21T13:55:08.328+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"name=%22Org%20Two%22","status":200,"latency":0.036944417,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:55:31.941+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:55:31.942+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:55:31.942+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:55:31.979+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:55:31.979+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:55:31.980+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:31.980+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:31.980+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:31.980+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:55:31.980+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","query":"Org Two","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T13:55:31.984+0530","caller":"dao/organization_dao.go:384","msg":"Organizations searched successfully","count":0,"duration":0.0040585}
{"level":"info","timestamp":"2024-07-21T13:55:31.984+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"name=Org%20Two","status":200,"latency":0.0433245,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:55:50.751+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:55:50.751+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:55:50.751+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:55:50.781+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:55:50.781+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:55:50.781+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:50.781+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:50.781+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:50.781+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:55:50.782+0530","caller":"dao/organization_dao.go:259","msg":"Retrieving organization","orgID":"new-org-3"}
{"level":"info","timestamp":"2024-07-21T13:55:50.789+0530","caller":"dao/organization_dao.go:287","msg":"Organization retrieved successfully","orgID":"new-org-3","duration":0.007460875}
{"level":"error","timestamp":"2024-07-21T13:55:50.789+0530","caller":"util/http_util.go:11","msg":"Organization already exists","error":"organization conflict already exists","path":"/api/v1/organizations","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*OrganizationController).CreateOrganization\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/organization_controller.go:57\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T13:55:50.790+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":409,"latency":0.039854125,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:55:58.872+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:55:58.872+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:55:58.873+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:55:58.904+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:55:58.905+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:55:58.905+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:58.905+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:58.905+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:55:58.905+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:55:58.905+0530","caller":"dao/organization_dao.go:259","msg":"Retrieving organization","orgID":"new-org-4"}
{"level":"warn","timestamp":"2024-07-21T13:55:58.909+0530","caller":"dao/organization_dao.go:293","msg":"Organization not found","orgID":"new-org-4","duration":0.00425125}
{"level":"info","timestamp":"2024-07-21T13:55:58.910+0530","caller":"dao/organization_dao.go:59","msg":"Creating new organization","orgName":"Org%20Four"}
{"level":"info","timestamp":"2024-07-21T13:55:58.953+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"new-org-4","duration":0.043467417}
{"level":"info","timestamp":"2024-07-21T13:55:58.966+0530","caller":"service/organization_service.go:169","msg":"Organization created successfully","orgID":"new-org-4","userID":""}
{"level":"info","timestamp":"2024-07-21T13:55:58.966+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.095386959,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T13:55:58.966+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"new-org-4"}
{"level":"info","timestamp":"2024-07-21T13:55:58.966+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"new-org-4","orgName":"Org%20Four"}
{"level":"info","timestamp":"2024-07-21T13:56:04.413+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T13:56:04.413+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T13:56:04.413+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T13:56:04.449+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T13:56:04.450+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T13:56:04.450+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:56:04.450+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:56:04.450+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T13:56:04.450+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T13:56:04.450+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","query":"Org Four","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T13:56:04.455+0530","caller":"dao/organization_dao.go:384","msg":"Organizations searched successfully","count":0,"duration":0.004527125}
{"level":"info","timestamp":"2024-07-21T13:56:04.455+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"name=Org%20Four","status":200,"latency":0.042847291,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:00:58.134+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:00:58.135+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T14:00:58.136+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721551307,"jti":"61578613-ebb5-4955-8e44-812c75802586","iat":1721547707,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:00:58.228+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","query":"Org Four","limit":10,"offset":0}
{"level":"info","timestamp":"2024-07-21T14:00:58.234+0530","caller":"dao/organization_dao.go:384","msg":"Organizations searched successfully","count":0,"duration":0.005400667}
{"level":"info","timestamp":"2024-07-21T14:00:58.234+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"name=Org%20Four","status":200,"latency":0.100675125,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:23:04.552+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T14:23:04.553+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T14:23:04.554+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T14:29:39.738+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T14:29:39.751+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T14:29:39.753+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T14:29:39.754+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.760+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.761+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.766+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.766+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.768+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.768+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.772+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T14:29:39.773+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T14:30:00.324+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:30:00.325+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiMmZjNTJiNmEtY2ExZC00ZmE0LWJiMzgtNGQ5NzFkYjY0M2QwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjYwOTRkZDIwLTQxYmQtNGFiZi05NWEyLWFmNWNhMDM4MmQ5MiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTQ3NzA3LCJleHAiOjE3MjE1NTEzMDcsImlhdCI6MTcyMTU0NzcwNywianRpIjoiNjE1Nzg2MTMtZWJiNS00OTU1LThlNDQtODEyYzc1ODAyNTg2IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.Bu4QErp0xawngfUq4L-pOiOCZ_amTVnPgjgsxsiaDHj-jAgU-ASfwldYqFcuk3Zb2aL8r45r_2c6IU5HHex2HZtPz61ImXj4uq3iTYuLOB2dWc0Xrl7fOChoBHG1U61VY6W-wyFG2AVfawq0UQiE6kd52FG5wlSPeXsZUpaKzrgsSJsh92lGePtmor_0MigdpRf4ju1tolYc2z8ya5XBqPunTQaK5ulp-s9ULwBq8lTy-UMEvf8X2lHj1HYTAWHpw4lkhtpwlZfozqrOiZ8VZzcHxOiPJv5rfCJdV_cACIWCkzELrvp9ySoRhs8JIFIXsSxMvFhfxNyjTiQitxa3YQ"}
{"level":"info","timestamp":"2024-07-21T14:30:00.325+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:30:00.526+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"error","timestamp":"2024-07-21T14:30:00.527+0530","caller":"middleware/group_auth.go:153","msg":"Error parsing token: %v","error":"token is expired by 18m13s","stacktrace":"github.com/dev-mohitbeniwal/echo/api/middleware.parseTokenUnverified\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:153\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:110\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T14:30:00.527+0530","caller":"middleware/group_auth.go:112","msg":"Error parsing token: %v","error":"token is expired by 18m13s","stacktrace":"github.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:112\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T14:30:00.527+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"","status":401,"latency":0.203695666,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:30:29.955+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:30:29.956+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiOWMwMzA4OWEtMDRkYi00N2U0LWJjOTItNTg0NzBlMzQ4MmVmIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjRkNzY2MzQwLTg0MmUtNDYyMC05MWQ3LWZkM2EzNGE3YjQ1NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTUyNDIzLCJleHAiOjE3MjE1NTYwMjMsImlhdCI6MTcyMTU1MjQyMywianRpIjoiNWQzNTNiOTYtM2VhYi00YmZkLWFjMmYtOTBhOWQyMmU1ZGRjIiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.FT7U_iPWIT14VGFqH5nka_jBjlNcfwxJ-6PoIMYoi58nQWQpteJapUd5LgivqBM1GWpuGI1dmpuy3x4CLOPGjzbS3Z5PgaodvyBPonyemCISj3XaF5q_0AtRSK-bld1Wq54uXbDI7q_R74AJD-lKUQiG7JyCSwkWsT9gUxAJWzXI5XDV6lPRNGdezn5-NWzEC2o8DaTfX486IAZCwxfUVjeWW27GTyz-gwxgJphbuKwngcekIPkuLyays1MtlHY2IhpimNvpIWJ-idOGOktzxjS42yLftM3PBfYO34DnL5cTe81apCXW48HKl79TwzcW8Dg6uM3CrnraIUmBH11P2A"}
{"level":"info","timestamp":"2024-07-21T14:30:29.956+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"dao/organization_dao.go:347","msg":"Searching organizations","criteria":{"name":"Org Two"}}
{"level":"info","timestamp":"2024-07-21T14:30:29.985+0530","caller":"dao/organization_dao.go:400","msg":"Executing query","query":"MATCH (o:Organization) WHERE 1=1 AND toLower(o.name) CONTAINS toLower($name) ORDER BY o.createdAt DESC RETURN o","params":{"name":"Org Two"}}
{"level":"error","timestamp":"2024-07-21T14:30:29.999+0530","caller":"dao/organization_dao.go:404","msg":"Failed to execute search organizations query","error":"Neo4jError: Neo.ClientError.Statement.SyntaxError (Invalid input 'ORDER': expected\n  \"!=\"\n  \"%\"\n  \"*\"\n  \"+\"\n  \"-\"\n  \".\"\n  \"/\"\n  \":\"\n  \"<\"\n  \"<=\"\n  \"<>\"\n  \"=\"\n  \">\"\n  \">=\"\n  \"AND\"\n  \"CALL\"\n  \"CREATE\"\n  \"DELETE\"\n  \"DETACH\"\n  \"FOREACH\"\n  \"LOAD\"\n  \"MATCH\"\n  \"MERGE\"\n  \"OPTIONAL\"\n  \"OR\"\n  \"REMOVE\"\n  \"RETURN\"\n  \"SET\"\n  \"UNION\"\n  \"UNWIND\"\n  \"USE\"\n  \"WITH\"\n  \"XOR\"\n  \"[\"\n  \"^\"\n  <EOF> (line 1, column 78 (offset: 77))\n\"MATCH (o:Organization) WHERE 1=1 AND toLower(o.name) CONTAINS toLower($name) ORDER BY o.createdAt DESC RETURN o\"\n                                                                              ^)","duration":0.013374208,"stacktrace":"github.com/dev-mohitbeniwal/echo/api/dao.(*OrganizationDAO).SearchOrganizations\n\t/Users/xenon/aubrey/idev/projects/echo/api/dao/organization_dao.go:404\ngithub.com/dev-mohitbeniwal/echo/api/service.(*OrganizationService).SearchOrganizations\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/organization_service.go:266\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*OrganizationController).SearchOrganizations\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/organization_controller.go:163\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T14:30:29.999+0530","caller":"service/organization_service.go:268","msg":"Error searching organizations","error":"database operation failed","criteria":{"name":"Org Two"},"stacktrace":"github.com/dev-mohitbeniwal/echo/api/service.(*OrganizationService).SearchOrganizations\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/organization_service.go:268\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*OrganizationController).SearchOrganizations\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/organization_controller.go:163\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T14:30:29.999+0530","caller":"util/http_util.go:11","msg":"Failed to search organizations","error":"failed to search organizations: database operation failed","path":"/api/v1/organizations/search","method":"GET","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*OrganizationController).SearchOrganizations\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/organization_controller.go:165\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T14:30:29.999+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"","status":500,"latency":0.045410708,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:37:03.815+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T14:37:03.817+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T14:37:03.817+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T14:37:07.277+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T14:37:07.289+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T14:37:07.291+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T14:37:07.292+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.296+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.296+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.297+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.298+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.299+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.299+0530","caller":"dao/department_dao.go:35","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.301+0530","caller":"dao/department_dao.go:53","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T14:37:07.301+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T14:37:10.547+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:37:10.547+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiOWMwMzA4OWEtMDRkYi00N2U0LWJjOTItNTg0NzBlMzQ4MmVmIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjRkNzY2MzQwLTg0MmUtNDYyMC05MWQ3LWZkM2EzNGE3YjQ1NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTUyNDIzLCJleHAiOjE3MjE1NTYwMjMsImlhdCI6MTcyMTU1MjQyMywianRpIjoiNWQzNTNiOTYtM2VhYi00YmZkLWFjMmYtOTBhOWQyMmU1ZGRjIiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.FT7U_iPWIT14VGFqH5nka_jBjlNcfwxJ-6PoIMYoi58nQWQpteJapUd5LgivqBM1GWpuGI1dmpuy3x4CLOPGjzbS3Z5PgaodvyBPonyemCISj3XaF5q_0AtRSK-bld1Wq54uXbDI7q_R74AJD-lKUQiG7JyCSwkWsT9gUxAJWzXI5XDV6lPRNGdezn5-NWzEC2o8DaTfX486IAZCwxfUVjeWW27GTyz-gwxgJphbuKwngcekIPkuLyays1MtlHY2IhpimNvpIWJ-idOGOktzxjS42yLftM3PBfYO34DnL5cTe81apCXW48HKl79TwzcW8Dg6uM3CrnraIUmBH11P2A"}
{"level":"info","timestamp":"2024-07-21T14:37:10.548+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:37:10.680+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:37:10.680+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:37:10.681+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:37:10.681+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:37:10.681+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:37:10.681+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:37:10.681+0530","caller":"dao/organization_dao.go:347","msg":"Searching organizations","criteria":{"name":"Org Two"}}
{"level":"info","timestamp":"2024-07-21T14:37:10.681+0530","caller":"dao/organization_dao.go:400","msg":"Executing query","query":"MATCH (o:Organization) WHERE 1=1 AND toLower(o.name) CONTAINS toLower($name) RETURN o ORDER BY o.createdAt DESC","params":{"name":"Org Two"}}
{"level":"info","timestamp":"2024-07-21T14:37:10.742+0530","caller":"dao/organization_dao.go:423","msg":"Organizations searched successfully","count":2,"duration":0.061129833}
{"level":"info","timestamp":"2024-07-21T14:37:10.742+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"","status":200,"latency":0.196263042,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:38:57.786+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:38:57.787+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiOWMwMzA4OWEtMDRkYi00N2U0LWJjOTItNTg0NzBlMzQ4MmVmIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjRkNzY2MzQwLTg0MmUtNDYyMC05MWQ3LWZkM2EzNGE3YjQ1NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTUyNDIzLCJleHAiOjE3MjE1NTYwMjMsImlhdCI6MTcyMTU1MjQyMywianRpIjoiNWQzNTNiOTYtM2VhYi00YmZkLWFjMmYtOTBhOWQyMmU1ZGRjIiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.FT7U_iPWIT14VGFqH5nka_jBjlNcfwxJ-6PoIMYoi58nQWQpteJapUd5LgivqBM1GWpuGI1dmpuy3x4CLOPGjzbS3Z5PgaodvyBPonyemCISj3XaF5q_0AtRSK-bld1Wq54uXbDI7q_R74AJD-lKUQiG7JyCSwkWsT9gUxAJWzXI5XDV6lPRNGdezn5-NWzEC2o8DaTfX486IAZCwxfUVjeWW27GTyz-gwxgJphbuKwngcekIPkuLyays1MtlHY2IhpimNvpIWJ-idOGOktzxjS42yLftM3PBfYO34DnL5cTe81apCXW48HKl79TwzcW8Dg6uM3CrnraIUmBH11P2A"}
{"level":"info","timestamp":"2024-07-21T14:38:57.787+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:38:57.884+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:38:57.885+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:38:57.885+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:38:57.885+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:38:57.885+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:38:57.885+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:38:57.885+0530","caller":"dao/organization_dao.go:347","msg":"Searching organizations","criteria":{"name":"Org"}}
{"level":"info","timestamp":"2024-07-21T14:38:57.886+0530","caller":"dao/organization_dao.go:400","msg":"Executing query","query":"MATCH (o:Organization) WHERE 1=1 AND toLower(o.name) CONTAINS toLower($name) RETURN o ORDER BY o.createdAt DESC","params":{"name":"Org"}}
{"level":"info","timestamp":"2024-07-21T14:38:57.892+0530","caller":"dao/organization_dao.go:423","msg":"Organizations searched successfully","count":4,"duration":0.006970583}
{"level":"info","timestamp":"2024-07-21T14:38:57.893+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"","status":200,"latency":0.107914125,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:48:12.906+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T14:48:12.908+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T14:48:12.909+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T14:48:16.488+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T14:48:16.502+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T14:48:16.505+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T14:48:16.505+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.511+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.511+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.513+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.513+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.516+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.516+0530","caller":"dao/department_dao.go:36","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.518+0530","caller":"dao/department_dao.go:54","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T14:48:16.519+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T14:50:40.488+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:50:40.489+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiOWMwMzA4OWEtMDRkYi00N2U0LWJjOTItNTg0NzBlMzQ4MmVmIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjRkNzY2MzQwLTg0MmUtNDYyMC05MWQ3LWZkM2EzNGE3YjQ1NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTUyNDIzLCJleHAiOjE3MjE1NTYwMjMsImlhdCI6MTcyMTU1MjQyMywianRpIjoiNWQzNTNiOTYtM2VhYi00YmZkLWFjMmYtOTBhOWQyMmU1ZGRjIiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.FT7U_iPWIT14VGFqH5nka_jBjlNcfwxJ-6PoIMYoi58nQWQpteJapUd5LgivqBM1GWpuGI1dmpuy3x4CLOPGjzbS3Z5PgaodvyBPonyemCISj3XaF5q_0AtRSK-bld1Wq54uXbDI7q_R74AJD-lKUQiG7JyCSwkWsT9gUxAJWzXI5XDV6lPRNGdezn5-NWzEC2o8DaTfX486IAZCwxfUVjeWW27GTyz-gwxgJphbuKwngcekIPkuLyays1MtlHY2IhpimNvpIWJ-idOGOktzxjS42yLftM3PBfYO34DnL5cTe81apCXW48HKl79TwzcW8Dg6uM3CrnraIUmBH11P2A"}
{"level":"info","timestamp":"2024-07-21T14:50:40.489+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:50:40.616+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:50:40.617+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:50:40.618+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:50:40.618+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:50:40.618+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:50:40.618+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:50:40.618+0530","caller":"dao/organization_dao.go:260","msg":"Retrieving organization","orgID":"dept-1"}
{"level":"warn","timestamp":"2024-07-21T14:50:40.675+0530","caller":"dao/organization_dao.go:294","msg":"Organization not found","orgID":"dept-1","duration":0.056702333}
{"level":"info","timestamp":"2024-07-21T14:50:40.675+0530","caller":"dao/organization_dao.go:60","msg":"Creating new organization","orgName":"dept-1-org-1"}
{"level":"info","timestamp":"2024-07-21T14:50:40.685+0530","caller":"dao/organization_dao.go:107","msg":"Organization created successfully","orgID":"dept-1","duration":0.009641584}
{"level":"info","timestamp":"2024-07-21T14:50:40.696+0530","caller":"service/organization_service.go:169","msg":"Organization created successfully","orgID":"dept-1","userID":""}
{"level":"info","timestamp":"2024-07-21T14:50:40.697+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.2094065,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:50:40.697+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"dept-1"}
{"level":"info","timestamp":"2024-07-21T14:50:40.697+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"dept-1","orgName":"dept-1-org-1"}
{"level":"info","timestamp":"2024-07-21T14:52:38.764+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:52:38.766+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiOWMwMzA4OWEtMDRkYi00N2U0LWJjOTItNTg0NzBlMzQ4MmVmIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjRkNzY2MzQwLTg0MmUtNDYyMC05MWQ3LWZkM2EzNGE3YjQ1NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTUyNDIzLCJleHAiOjE3MjE1NTYwMjMsImlhdCI6MTcyMTU1MjQyMywianRpIjoiNWQzNTNiOTYtM2VhYi00YmZkLWFjMmYtOTBhOWQyMmU1ZGRjIiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.FT7U_iPWIT14VGFqH5nka_jBjlNcfwxJ-6PoIMYoi58nQWQpteJapUd5LgivqBM1GWpuGI1dmpuy3x4CLOPGjzbS3Z5PgaodvyBPonyemCISj3XaF5q_0AtRSK-bld1Wq54uXbDI7q_R74AJD-lKUQiG7JyCSwkWsT9gUxAJWzXI5XDV6lPRNGdezn5-NWzEC2o8DaTfX486IAZCwxfUVjeWW27GTyz-gwxgJphbuKwngcekIPkuLyays1MtlHY2IhpimNvpIWJ-idOGOktzxjS42yLftM3PBfYO34DnL5cTe81apCXW48HKl79TwzcW8Dg6uM3CrnraIUmBH11P2A"}
{"level":"info","timestamp":"2024-07-21T14:52:38.766+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:52:38.865+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:52:38.866+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:52:38.866+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:52:38.866+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:52:38.866+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:52:38.866+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:52:38.866+0530","caller":"dao/organization_dao.go:260","msg":"Retrieving organization","orgID":"org-1"}
{"level":"warn","timestamp":"2024-07-21T14:52:38.898+0530","caller":"dao/organization_dao.go:294","msg":"Organization not found","orgID":"org-1","duration":0.031606625}
{"level":"info","timestamp":"2024-07-21T14:52:38.898+0530","caller":"dao/organization_dao.go:60","msg":"Creating new organization","orgName":"Org 1"}
{"level":"info","timestamp":"2024-07-21T14:52:38.951+0530","caller":"dao/organization_dao.go:107","msg":"Organization created successfully","orgID":"org-1","duration":0.05293125}
{"level":"info","timestamp":"2024-07-21T14:52:38.970+0530","caller":"service/organization_service.go:169","msg":"Organization created successfully","orgID":"org-1","userID":""}
{"level":"info","timestamp":"2024-07-21T14:52:38.970+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"org-1"}
{"level":"info","timestamp":"2024-07-21T14:52:38.970+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.206145541,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:52:38.970+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"org-1","orgName":"Org 1"}
{"level":"info","timestamp":"2024-07-21T14:53:09.054+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T14:53:09.055+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiOWMwMzA4OWEtMDRkYi00N2U0LWJjOTItNTg0NzBlMzQ4MmVmIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjRkNzY2MzQwLTg0MmUtNDYyMC05MWQ3LWZkM2EzNGE3YjQ1NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTUyNDIzLCJleHAiOjE3MjE1NTYwMjMsImlhdCI6MTcyMTU1MjQyMywianRpIjoiNWQzNTNiOTYtM2VhYi00YmZkLWFjMmYtOTBhOWQyMmU1ZGRjIiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.FT7U_iPWIT14VGFqH5nka_jBjlNcfwxJ-6PoIMYoi58nQWQpteJapUd5LgivqBM1GWpuGI1dmpuy3x4CLOPGjzbS3Z5PgaodvyBPonyemCISj3XaF5q_0AtRSK-bld1Wq54uXbDI7q_R74AJD-lKUQiG7JyCSwkWsT9gUxAJWzXI5XDV6lPRNGdezn5-NWzEC2o8DaTfX486IAZCwxfUVjeWW27GTyz-gwxgJphbuKwngcekIPkuLyays1MtlHY2IhpimNvpIWJ-idOGOktzxjS42yLftM3PBfYO34DnL5cTe81apCXW48HKl79TwzcW8Dg6uM3CrnraIUmBH11P2A"}
{"level":"info","timestamp":"2024-07-21T14:53:09.055+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T14:53:09.086+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T14:53:09.086+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T14:53:09.086+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:53:09.086+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:53:09.087+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721556023,"jti":"5d353b96-3eab-4bfd-ac2f-90a9d22e5ddc","iat":1721552423,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T14:53:09.087+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T14:53:09.087+0530","caller":"dao/organization_dao.go:260","msg":"Retrieving organization","orgID":"dept-1"}
{"level":"warn","timestamp":"2024-07-21T14:53:09.115+0530","caller":"dao/organization_dao.go:294","msg":"Organization not found","orgID":"dept-1","duration":0.027925417}
{"level":"info","timestamp":"2024-07-21T14:53:09.115+0530","caller":"dao/organization_dao.go:60","msg":"Creating new organization","orgName":"dept-1-org-1"}
{"level":"info","timestamp":"2024-07-21T14:53:09.137+0530","caller":"dao/organization_dao.go:107","msg":"Organization created successfully","orgID":"dept-1","duration":0.021931708}
{"level":"info","timestamp":"2024-07-21T14:53:09.149+0530","caller":"service/organization_service.go:169","msg":"Organization created successfully","orgID":"dept-1","userID":""}
{"level":"info","timestamp":"2024-07-21T14:53:09.149+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"dept-1"}
{"level":"info","timestamp":"2024-07-21T14:53:09.149+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"dept-1","orgName":"dept-1-org-1"}
{"level":"info","timestamp":"2024-07-21T14:53:09.149+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.096735167,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T14:53:35.881+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T14:53:35.882+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T14:53:35.883+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
