{"level":"info","timestamp":"2024-07-21T16:54:41.651+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T16:54:41.665+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T16:54:41.667+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T16:54:41.667+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.686+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.687+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.696+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.696+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.697+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.697+0530","caller":"dao/department_dao.go:36","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.702+0530","caller":"dao/department_dao.go:54","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T16:54:41.703+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T16:54:46.329+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:54:46.329+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:54:46.330+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:54:46.440+0530","caller":"dao/department_dao.go:366","msg":"Listing departments","limit":5,"offset":0}
{"level":"info","timestamp":"2024-07-21T16:54:46.492+0530","caller":"dao/department_dao.go:402","msg":"Departments listed successfully","count":2,"duration":0.051396583}
{"level":"info","timestamp":"2024-07-21T16:54:46.492+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/departments","query":"limit=5","status":200,"latency":0.164173375,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:55:16.473+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:55:16.474+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:55:16.474+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:55:16.525+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:55:16.525+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:55:16.526+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:55:16.526+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:55:16.526+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:55:16.526+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:55:16.526+0530","caller":"dao/department_dao.go:651","msg":"Searching departments","criteria":{"name":"org-1"}}
{"level":"info","timestamp":"2024-07-21T16:55:16.526+0530","caller":"dao/department_dao.go:714","msg":"Executing query","query":"MATCH (d:DEPARTMENT) WHERE 1=1 AND toLower(d.name) CONTAINS toLower($name) RETURN d ORDER BY d.name ASC","params":{"name":"org-1"}}
{"level":"info","timestamp":"2024-07-21T16:55:16.571+0530","caller":"dao/department_dao.go:737","msg":"Departments searched successfully","resultCount":2,"duration":0.044669667}
{"level":"info","timestamp":"2024-07-21T16:55:16.571+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/departments/search","query":"","status":200,"latency":0.098736542,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:55:35.366+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:55:35.366+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:55:35.366+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:55:35.397+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:55:35.397+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:55:35.397+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:55:35.397+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:55:35.397+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:55:35.398+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:55:35.398+0530","caller":"dao/department_dao.go:324","msg":"Retrieving department","deptID":"dept-3"}
{"level":"warn","timestamp":"2024-07-21T16:55:35.418+0530","caller":"dao/department_dao.go:358","msg":"Department not found","deptID":"dept-3","duration":0.020099292}
{"level":"info","timestamp":"2024-07-21T16:55:35.418+0530","caller":"dao/department_dao.go:60","msg":"Creating new department","deptName":"dept-3-org-2"}
{"level":"error","timestamp":"2024-07-21T16:55:35.423+0530","caller":"dao/department_dao.go:105","msg":"Failed to create department","error":"no id returned","deptName":"dept-3-org-2","duration":0.005391625,"stacktrace":"github.com/dev-mohitbeniwal/echo/api/dao.(*DepartmentDAO).CreateDepartment\n\t/Users/xenon/aubrey/idev/projects/echo/api/dao/department_dao.go:105\ngithub.com/dev-mohitbeniwal/echo/api/service.(*DepartmentService).CreateDepartment\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/department_service.go:157\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*DepartmentController).CreateDepartment\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/department_controller.go:57\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T16:55:35.424+0530","caller":"service/department_service.go:159","msg":"Error creating department","error":"no id returned","userID":"","stacktrace":"github.com/dev-mohitbeniwal/echo/api/service.(*DepartmentService).CreateDepartment\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/department_service.go:159\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*DepartmentController).CreateDepartment\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/department_controller.go:57\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"error","timestamp":"2024-07-21T16:55:35.424+0530","caller":"util/http_util.go:11","msg":"Failed to create department","error":"internal server error","path":"/api/v1/departments","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*DepartmentController).CreateDepartment\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/department_controller.go:67\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T16:55:35.424+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/departments","query":"","status":500,"latency":0.05865175,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:56:33.650+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:56:33.651+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:56:33.652+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:56:33.687+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:56:33.688+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:56:33.688+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:33.688+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:33.688+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:33.688+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:56:33.688+0530","caller":"dao/organization_dao.go:259","msg":"Retrieving organization","orgID":"org-2"}
{"level":"warn","timestamp":"2024-07-21T16:56:33.775+0530","caller":"dao/organization_dao.go:293","msg":"Organization not found","orgID":"org-2","duration":0.08631175}
{"level":"info","timestamp":"2024-07-21T16:56:33.775+0530","caller":"dao/organization_dao.go:60","msg":"Creating new organization","orgName":"Org 2"}
{"level":"info","timestamp":"2024-07-21T16:56:33.793+0530","caller":"dao/organization_dao.go:106","msg":"Organization created successfully","orgID":"org-2","duration":0.017936958}
{"level":"info","timestamp":"2024-07-21T16:56:33.806+0530","caller":"service/organization_service.go:169","msg":"Organization created successfully","orgID":"org-2","userID":""}
{"level":"info","timestamp":"2024-07-21T16:56:33.806+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/organizations","query":"","status":201,"latency":0.157891291,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:56:33.806+0530","caller":"service/organization_service.go:60","msg":"Organization created event received","orgID":"org-2"}
{"level":"info","timestamp":"2024-07-21T16:56:33.806+0530","caller":"util/notification_service.go:78","msg":"Notifying organization change","changeType":"created","orgID":"org-2","orgName":"Org 2"}
{"level":"info","timestamp":"2024-07-21T16:56:38.530+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:56:38.530+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:56:38.530+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:56:38.560+0530","caller":"dao/department_dao.go:324","msg":"Retrieving department","deptID":"dept-3"}
{"level":"warn","timestamp":"2024-07-21T16:56:38.566+0530","caller":"dao/department_dao.go:358","msg":"Department not found","deptID":"dept-3","duration":0.005950042}
{"level":"info","timestamp":"2024-07-21T16:56:38.566+0530","caller":"dao/department_dao.go:60","msg":"Creating new department","deptName":"dept-3-org-2"}
{"level":"info","timestamp":"2024-07-21T16:56:38.578+0530","caller":"dao/department_dao.go:113","msg":"Department created successfully","deptID":"dept-3","duration":0.012126917}
{"level":"info","timestamp":"2024-07-21T16:56:38.582+0530","caller":"dao/department_dao.go:170","msg":"BELONGS_TO relationship verified","deptID":"dept-3","orgID":"org-2"}
{"level":"info","timestamp":"2024-07-21T16:56:38.596+0530","caller":"service/department_service.go:173","msg":"Department created successfully","deptID":"dept-3","userID":""}
{"level":"info","timestamp":"2024-07-21T16:56:38.596+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/departments","query":"","status":201,"latency":0.066577666,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:56:38.596+0530","caller":"service/department_service.go:64","msg":"Department created event received","deptID":"dept-3"}
{"level":"info","timestamp":"2024-07-21T16:56:38.596+0530","caller":"service/department_service.go:336","msg":"Updating department indexes","deptID":"dept-3"}
{"level":"info","timestamp":"2024-07-21T16:56:38.596+0530","caller":"util/notification_service.go:87","msg":"Notifying department change","changeType":"created","deptID":"dept-3","deptName":"dept-3-org-2"}
{"level":"info","timestamp":"2024-07-21T16:56:45.099+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:56:45.099+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:56:45.099+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:56:45.129+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"dao/department_dao.go:651","msg":"Searching departments","criteria":{"name":"org-1"}}
{"level":"info","timestamp":"2024-07-21T16:56:45.130+0530","caller":"dao/department_dao.go:714","msg":"Executing query","query":"MATCH (d:DEPARTMENT) WHERE 1=1 AND toLower(d.name) CONTAINS toLower($name) RETURN d ORDER BY d.name ASC","params":{"name":"org-1"}}
{"level":"info","timestamp":"2024-07-21T16:56:45.134+0530","caller":"dao/department_dao.go:737","msg":"Departments searched successfully","resultCount":2,"duration":0.0039305}
{"level":"info","timestamp":"2024-07-21T16:56:45.134+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/departments/search","query":"","status":200,"latency":0.036093042,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:56:48.555+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:56:48.555+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:56:48.556+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:56:48.586+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"dao/department_dao.go:651","msg":"Searching departments","criteria":{"name":"org-2"}}
{"level":"info","timestamp":"2024-07-21T16:56:48.587+0530","caller":"dao/department_dao.go:714","msg":"Executing query","query":"MATCH (d:DEPARTMENT) WHERE 1=1 AND toLower(d.name) CONTAINS toLower($name) RETURN d ORDER BY d.name ASC","params":{"name":"org-2"}}
{"level":"info","timestamp":"2024-07-21T16:56:48.591+0530","caller":"dao/department_dao.go:737","msg":"Departments searched successfully","resultCount":1,"duration":0.003952583}
{"level":"info","timestamp":"2024-07-21T16:56:48.591+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/departments/search","query":"","status":200,"latency":0.036426333,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T16:57:31.723+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T16:57:31.724+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T16:57:31.724+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T16:57:31.755+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T16:57:31.755+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T16:57:31.755+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:57:31.756+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:57:31.756+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T16:57:31.756+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T16:57:31.758+0530","caller":"dao/organization_dao.go:346","msg":"Searching organizations","criteria":{"name":"Org"}}
{"level":"info","timestamp":"2024-07-21T16:57:31.758+0530","caller":"dao/organization_dao.go:399","msg":"Executing query","query":"MATCH (o:ORGANIZATION) WHERE 1=1 AND toLower(o.name) CONTAINS toLower($name) RETURN o ORDER BY o.createdAt DESC","params":{"name":"Org"}}
{"level":"info","timestamp":"2024-07-21T16:57:31.802+0530","caller":"dao/organization_dao.go:422","msg":"Organizations searched successfully","count":2,"duration":0.043714167}
{"level":"info","timestamp":"2024-07-21T16:57:31.802+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"GET","path":"/api/v1/organizations/search","query":"","status":200,"latency":0.079941125,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T17:03:25.599+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T17:03:25.600+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T17:03:25.600+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T17:03:25.779+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T17:03:25.780+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T17:03:25.780+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:03:25.780+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:03:25.780+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:03:25.780+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T17:03:25.781+0530","caller":"dao/user_dao.go:275","msg":"Retrieving user","userID":"user-1"}
{"level":"warn","timestamp":"2024-07-21T17:03:25.838+0530","caller":"dao/user_dao.go:309","msg":"User not found","userID":"user-1","duration":0.057501167}
{"level":"error","timestamp":"2024-07-21T17:03:25.838+0530","caller":"util/http_util.go:11","msg":"Database operation failed","error":"database operation failed","path":"/api/v1/users","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*UserController).CreateUser\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/user_controller.go:59\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T17:03:25.838+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/users","query":"","status":500,"latency":0.240069,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T17:21:25.027+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T17:21:25.028+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T17:21:25.028+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T17:21:25.239+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T17:21:25.239+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T17:21:25.239+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:21:25.240+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:21:25.240+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:21:25.240+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T17:21:25.240+0530","caller":"dao/user_dao.go:275","msg":"Retrieving user","userID":"user-1"}
{"level":"warn","timestamp":"2024-07-21T17:21:25.244+0530","caller":"dao/user_dao.go:309","msg":"User not found","userID":"user-1","duration":0.003715167}
{"level":"error","timestamp":"2024-07-21T17:21:25.244+0530","caller":"util/http_util.go:11","msg":"Database operation failed","error":"database operation failed","path":"/api/v1/users","method":"POST","stacktrace":"github.com/dev-mohitbeniwal/echo/api/util.RespondWithError\n\t/Users/xenon/aubrey/idev/projects/echo/api/util/http_util.go:11\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*UserController).CreateUser\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/user_controller.go:59\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T17:21:25.244+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/users","query":"","status":500,"latency":0.218812292,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T17:24:19.828+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T17:24:19.828+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T17:24:19.829+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T17:24:24.456+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T17:24:24.470+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T17:24:24.473+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T17:24:24.473+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.478+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.478+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.480+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.480+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.482+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.482+0530","caller":"dao/department_dao.go:36","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.485+0530","caller":"dao/department_dao.go:54","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T17:24:24.485+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T17:24:27.405+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T17:24:27.405+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T17:24:27.406+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T17:24:27.529+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T17:24:27.529+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T17:24:27.530+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:24:27.530+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:24:27.530+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:24:27.530+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T17:24:27.530+0530","caller":"dao/user_dao.go:275","msg":"Retrieving user","userID":"user-1"}
{"level":"warn","timestamp":"2024-07-21T17:24:27.533+0530","caller":"dao/user_dao.go:309","msg":"User not found","userID":"user-1","duration":0.002923084}
{"level":"info","timestamp":"2024-07-21T17:24:27.533+0530","caller":"dao/user_dao.go:61","msg":"Creating new user","username":"mohit.beniwal"}
{"level":"info","timestamp":"2024-07-21T17:24:27.598+0530","caller":"dao/user_dao.go:115","msg":"User created successfully","userID":"user-1","duration":0.064589583}
{"level":"info","timestamp":"2024-07-21T17:24:27.608+0530","caller":"service/user_service.go:169","msg":"User created successfully","userID":"user-1","creatorID":""}
{"level":"info","timestamp":"2024-07-21T17:24:27.608+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/users","query":"","status":201,"latency":0.204751542,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T17:24:27.608+0530","caller":"service/user_service.go:60","msg":"User created event received","userID":"user-1"}
{"level":"info","timestamp":"2024-07-21T17:24:27.608+0530","caller":"util/notification_service.go:96","msg":"Notifying user change","changeType":"created","userID":"user-1","userName":"mohit.beniwal"}
{"level":"info","timestamp":"2024-07-21T17:29:41.954+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T17:29:41.955+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T17:29:41.955+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T17:29:45.749+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T17:29:45.766+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T17:29:45.769+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T17:29:45.769+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.775+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.775+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.779+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.779+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.781+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.781+0530","caller":"dao/department_dao.go:36","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.783+0530","caller":"dao/department_dao.go:54","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T17:29:45.783+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T17:32:24.069+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T17:32:24.070+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T17:32:24.071+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T17:32:24.174+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T17:32:24.175+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T17:32:24.175+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:32:24.175+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:32:24.175+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:32:24.175+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T17:32:24.176+0530","caller":"dao/user_dao.go:343","msg":"Retrieving user","userID":"user-2"}
{"level":"warn","timestamp":"2024-07-21T17:32:24.219+0530","caller":"dao/user_dao.go:377","msg":"User not found","userID":"user-2","duration":0.043753208}
{"level":"info","timestamp":"2024-07-21T17:32:24.219+0530","caller":"dao/user_dao.go:61","msg":"Creating new user","username":"priyanka.sharma"}
{"level":"info","timestamp":"2024-07-21T17:32:24.287+0530","caller":"dao/user_dao.go:130","msg":"User created successfully","userID":"user-2","duration":0.06749725}
{"level":"error","timestamp":"2024-07-21T17:32:24.310+0530","caller":"dao/user_dao.go:186","msg":"BELONGS_TO relationship not created","userID":"user-2","orgID":"org-2","stacktrace":"github.com/dev-mohitbeniwal/echo/api/dao.(*UserDAO).verifyRelationships\n\t/Users/xenon/aubrey/idev/projects/echo/api/dao/user_dao.go:186\ngithub.com/dev-mohitbeniwal/echo/api/dao.(*UserDAO).CreateUser\n\t/Users/xenon/aubrey/idev/projects/echo/api/dao/user_dao.go:135\ngithub.com/dev-mohitbeniwal/echo/api/service.(*UserService).CreateUser\n\t/Users/xenon/aubrey/idev/projects/echo/api/service/user_service.go:153\ngithub.com/dev-mohitbeniwal/echo/api/controller.(*UserController).CreateUser\n\t/Users/xenon/aubrey/idev/projects/echo/api/controller/user_controller.go:53\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.GroupAuthMiddleware.func3\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/group_auth.go:131\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.RateLimiter.func2\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/rate_limiter.go:46\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/dev-mohitbeniwal/echo/api/router.SetupRouter.Logger.func1\n\t/Users/xenon/aubrey/idev/projects/echo/api/middleware/logger.go:20\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/recovery.go:102\ngithub.com/gin-gonic/gin.(*Context).Next\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/context.go:185\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:633\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\t/Users/xenon/go/pkg/mod/github.com/gin-gonic/gin@v1.10.0/gin.go:589\nnet/http.serverHandler.ServeHTTP\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:3137\nnet/http.(*conn).serve\n\t/opt/homebrew/Cellar/go/1.22.2/libexec/src/net/http/server.go:2039"}
{"level":"info","timestamp":"2024-07-21T17:32:24.319+0530","caller":"service/user_service.go:169","msg":"User created successfully","userID":"user-2","creatorID":""}
{"level":"info","timestamp":"2024-07-21T17:32:24.319+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/users","query":"","status":201,"latency":0.250714875,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T17:32:24.319+0530","caller":"service/user_service.go:60","msg":"User created event received","userID":"user-2"}
{"level":"info","timestamp":"2024-07-21T17:32:24.319+0530","caller":"util/notification_service.go:96","msg":"Notifying user change","changeType":"created","userID":"user-2","userName":"priyanka.sharma"}
{"level":"info","timestamp":"2024-07-21T17:35:08.318+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T17:35:08.320+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T17:35:08.320+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
{"level":"info","timestamp":"2024-07-21T17:35:12.356+0530","caller":"db/db.go:21","msg":"Connecting to Neo4j at URI","uri":"bolt://localhost:7687"}
{"level":"info","timestamp":"2024-07-21T17:35:12.372+0530","caller":"db/db.go:49","msg":"Successfully connected to Neo4j"}
{"level":"info","timestamp":"2024-07-21T17:35:12.375+0530","caller":"db/redis.go:53","msg":"Successfully connected to Redis"}
{"level":"info","timestamp":"2024-07-21T17:35:12.375+0530","caller":"dao/policy_dao.go:38","msg":"Ensuring unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.380+0530","caller":"dao/policy_dao.go:63","msg":"Successfully ensured unique constraint on Policy ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.380+0530","caller":"dao/user_dao.go:37","msg":"Ensuring unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.383+0530","caller":"dao/user_dao.go:55","msg":"Successfully ensured unique constraint on User ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.383+0530","caller":"dao/organization_dao.go:36","msg":"Ensuring unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.385+0530","caller":"dao/organization_dao.go:54","msg":"Successfully ensured unique constraint on Organization ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.385+0530","caller":"dao/department_dao.go:36","msg":"Ensuring unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.388+0530","caller":"dao/department_dao.go:54","msg":"Successfully ensured unique constraint on Department ID"}
{"level":"info","timestamp":"2024-07-21T17:35:12.388+0530","caller":"api/main.go:88","msg":"Starting server","port":"8080"}
{"level":"info","timestamp":"2024-07-21T17:35:18.842+0530","caller":"middleware/rate_limiter.go:42","msg":"Request allowed","ip":"::1","limit":10,"per":0}
{"level":"info","timestamp":"2024-07-21T17:35:18.842+0530","caller":"middleware/group_auth.go:102","msg":"Received token: %s","token":"Bearer eyJraWQiOiI5STE3b2V3WXg1NlhuQTZ5aFpWWTlBemV2c0QrUVl4OVdQUjhBMm5MY25rPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIwMTIzNWRlYS01MDUxLTcwZDgtMDhhNy1kMDBlYzM0M2Y3ZTMiLCJjb2duaXRvOmdyb3VwcyI6WyJhbGl2ZS1hZG1pbiJdLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoLTEuYW1hem9uYXdzLmNvbVwvYXAtc291dGgtMV9SM2tUb3lzeUUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYWxpdmUtYWRtaW4iLCJvcmlnaW5fanRpIjoiODQzMDEyMjMtMjBiMS00YTY1LWEyZjEtZmI0MTM4NWJmNDMwIiwiYXVkIjoiNXI2YnNkcGs2MDVxb2JxYXRjbGhkN2FkNDIiLCJldmVudF9pZCI6IjU3ZTZjNDA5LTIxZGItNDJmYi05YzQyLTdiNGUxNzg2ZGU0MyIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNzIxNTYwNDk5LCJleHAiOjE3MjE1NjQwOTksImlhdCI6MTcyMTU2MDQ5OSwianRpIjoiMWVlMTNkZjItNWFiOC00MDdmLThmMGYtOTk1YTI3OTE3NmY1IiwiZW1haWwiOiJkZXYubW9oaXRiZW5pd2FsQGdtYWlsLmNvbSJ9.So1KNBoNjcgyw-mLeuePOmfprZ-t0hlDYFefMacZrt5dszbIsEq8_SCkJeTGGkfdPLOr5dYVMLVTFit--LuZC0DEcU-gp3q6Qzt_RY7VASlGQUHHy4AmQE4oznvg4G0ZJByTU0ILwmKIQN_sx_nrzAP3oJFS479PfVvDRsKKu9ND5h7yYmF7E64n3_QFXDnmbsWp8o3DiTJoQNTUICfCDWIMFdApSpV1SuT7NsMzDwBWink5NOSwwkUane3B2EqI0fe-wLa7MIqLRRKnd8_8ZiF9-1XbKRXFePXjhZl-G5yUxHa-2byGf4NnqWPciJb8W0ZC3BqjOH2eg9nSnGqPJg"}
{"level":"info","timestamp":"2024-07-21T17:35:18.842+0530","caller":"middleware/group_auth.go:44","msg":"Fetching JWKS from URL: %s","url":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE/.well-known/jwks.json"}
{"level":"info","timestamp":"2024-07-21T17:35:18.942+0530","caller":"middleware/group_auth.go:95","msg":"Successfully parsed public key: %+v","publicKey":{"N":23638513619267131316045705987372522292113030654398391564693158857681298047483761358273308672454021728697284535483869581247910869249735545075949798110534502865072478785670378950329783496968399103842173785779270761895638963123252679657069678366753591148239971226110374364035829457304937077449480029737470711760833528141600028111010292692023369756600074727517755410625663008849726217585009178300284689876400741828977937095530169338393813208804449273104593251784286963093255584104347773059843218505295823296864840483490200435163775567572527840327002150396168163043822274073275809561241836971224736576130309314699305285069,"E":65537}}
{"level":"info","timestamp":"2024-07-21T17:35:18.942+0530","caller":"middleware/group_auth.go:158","msg":"Token header: %+v","header":{"alg":"RS256","kid":"9I17oewYx56XnA6yhZVY9AzevsD+QYx9WPR8A2nLcnk="}}
{"level":"info","timestamp":"2024-07-21T17:35:18.942+0530","caller":"middleware/group_auth.go:159","msg":"Token claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:35:18.943+0530","caller":"middleware/group_auth.go:163","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:35:18.943+0530","caller":"middleware/group_auth.go:118","msg":"Parsed claims: %+v","claims":{"aud":"5r6bsdpk605qobqatclhd7ad42","exp":1721564099,"jti":"1ee13df2-5ab8-407f-8f0f-995a279176f5","iat":1721560499,"iss":"https://cognito-idp.ap-south-1.amazonaws.com/ap-south-1_R3kToysyE","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3","cognito:groups":["alive-admin"],"cognito:username":"alive-admin","email_verified":true,"email":"dev.mohitbeniwal@gmail.com"}}
{"level":"info","timestamp":"2024-07-21T17:35:18.943+0530","caller":"middleware/group_auth.go:129","msg":"Added user sub to context: %s","sub":"01235dea-5051-70d8-08a7-d00ec343f7e3"}
{"level":"info","timestamp":"2024-07-21T17:35:18.943+0530","caller":"dao/user_dao.go:343","msg":"Retrieving user","userID":"user-2"}
{"level":"warn","timestamp":"2024-07-21T17:35:18.946+0530","caller":"dao/user_dao.go:377","msg":"User not found","userID":"user-2","duration":0.002736667}
{"level":"info","timestamp":"2024-07-21T17:35:18.946+0530","caller":"dao/user_dao.go:61","msg":"Creating new user","username":"priyanka.sharma"}
{"level":"info","timestamp":"2024-07-21T17:35:19.011+0530","caller":"dao/user_dao.go:130","msg":"User created successfully","userID":"user-2","duration":0.065556667}
{"level":"info","timestamp":"2024-07-21T17:35:19.031+0530","caller":"dao/user_dao.go:188","msg":"BELONGS_TO relationship verified","userID":"user-2","orgID":"org-2"}
{"level":"info","timestamp":"2024-07-21T17:35:19.042+0530","caller":"service/user_service.go:169","msg":"User created successfully","userID":"user-2","creatorID":""}
{"level":"info","timestamp":"2024-07-21T17:35:19.042+0530","caller":"middleware/logger.go:39","msg":"Request processed","method":"POST","path":"/api/v1/users","query":"","status":201,"latency":0.200690625,"ip":"::1","user-agent":"PostmanRuntime/7.39.0"}
{"level":"info","timestamp":"2024-07-21T17:35:19.042+0530","caller":"service/user_service.go:60","msg":"User created event received","userID":"user-2"}
{"level":"info","timestamp":"2024-07-21T17:35:19.042+0530","caller":"util/notification_service.go:96","msg":"Notifying user change","changeType":"created","userID":"user-2","userName":"priyanka.sharma"}
{"level":"info","timestamp":"2024-07-21T18:32:24.629+0530","caller":"api/main.go:98","msg":"Shutting down server..."}
{"level":"info","timestamp":"2024-07-21T18:32:24.630+0530","caller":"api/main.go:108","msg":"Server exiting"}
{"level":"info","timestamp":"2024-07-21T18:32:24.631+0530","caller":"db/db.go:62","msg":"Neo4j connection closed successfully"}
